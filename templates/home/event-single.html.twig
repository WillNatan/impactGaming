{% extends 'base.html.twig' %}

{% block body %}
	<section class="hero-banner p-2">
		<div class="container text-center">
			<span class="hero-banner-icon">
				<i class="fa fa-gamepad"></i>
			</span>
			<p>{{ event.launchDate|format_datetime(pattern='d MMMM yyyy',locale='en') }} - {{ event.stopDate|format_datetime(pattern='d MMMM yyyy', locale='en') }}, {{ event.place }}</p>
			<h1>{{ event.name }}</h1>

		</div>
	</section>

	<section class="">
		<div class="description pb-5 pt-5 bg-gray">
			<div class="container">
			<div class="row">
			<div class="col-md-6 text-center text-md-left">
				<h2>Description</h2>
				<p>{{ event.shortDesc }}</p>
			</div>
			<div class="col-md-6 justify-content-center">
				<ul class="clockdiv text-center" id="clockdiv">
				<p id="demo"></p>
					<li class="clockdiv-single clockdiv-day">
						<h1 class="days">320</h1>
						<span class="smalltext">Days</span>
					</li>
					<li class="clockdiv-single clockdiv-hour">
						<h1 class="hours">30</h1>
						<span class="smalltext">Hours</span>
					</li>
					<li class="clockdiv-single clockdiv-minute">
						<h1 class="minutes">30</h1>
						<span class="smalltext">Mins</span>
					</li>
				</ul>

				<div class="clockdiv-content text-center">
					<p class="h4 primary-text2 mb-2">{{ event.launchDate|format_datetime(pattern='d MMMM yyyy',locale='en') }} - {{ event.stopDate|format_datetime(pattern='d MMMM yyyy', locale='en') }}</p>
				</div>
			</div>
		</div>
		</div>
		</div>
		<div class="container">
			<div class="row mt-5">
			<div class="col-md-4 mb-3 text-center text-md-left general-infos">
				<h2>Informations générales</h2>
                <span class="mt-3">Date de début: {{ event.launchDate|format_datetime(pattern='d MMMM yyyy',locale='en') }}</span>
                <hr/>
                <span>Date de fin: {{ event.stopDate|format_datetime(pattern='d MMMM yyyy', locale='en') }}</span>
                <hr>
                <span>Capacités: {% if event.ticketNumber == 0  %}Places illimitées{% else %}{{ event.ticketNumber }}  place(s) disponible(s){% endif %}</span>
                <hr>
                <span>Organisateur: {{ event.user.company ? event.user.company:event.user.firstName +' '+event.user.lastName  }}</span>
                <hr>
                <span>Adresse:{{ event.address }}</span>
                {# <button class="button button-header mt-5">Être alerté</button> #}
			</div>
			<div class="col-md-8 text-center text-md-left">
				<p>{{ event.longDesc }}</p>
			</div>
		</div>
		</div>
	</section>
{% endblock %}

{% block javascripts %}
	<script>
// Set the date we're counting down to
var countDownDate = new Date("Jan 5, 2021 15:37:25").getTime();

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Display the result in the element with id="demo"
  document.getElementById("demo").innerHTML = days + "d " + hours + "h "
  + minutes + "m " + seconds + "s ";

  // If the count down is finished, write some text
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("demo").innerHTML = "EXPIRED";
  }
}, 1000);
</script>
{% endblock %}